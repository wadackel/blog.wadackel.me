{
  $schema: 'https://docs.renovatebot.com/renovate-schema.json',
  extends: ['config:recommended'],

  // Separate major updates into individual PRs
  separateMajorMinor: true,

  // Allow unlimited concurrent PRs
  prConcurrentLimit: 0,

  packageRules: [
    // Related package ecosystem groups
    {
      groupName: 'Hono ecosystem',
      matchPackageNames: ['hono', 'honox'],
      matchPackagePatterns: ['^@hono/'],
    },
    {
      groupName: 'Tailwind CSS',
      matchPackageNames: ['tailwindcss'],
      matchPackagePatterns: ['^@tailwindcss/'],
    },
    {
      groupName: 'Vitest',
      matchPackageNames: ['vitest'],
      matchPackagePatterns: ['^@vitest/'],
    },
    {
      groupName: 'Prettier',
      matchPackageNames: ['prettier'],
      matchPackagePatterns: ['^prettier-plugin-'],
    },
    {
      groupName: 'Remark and Rehype',
      matchPackageNames: [
        'remark',
        'remark-autolink-headings',
        'remark-emoji',
        'remark-extract-frontmatter',
        'remark-frontmatter',
        'remark-gfm',
        'remark-parse',
        'remark-rehype',
        'remark-slug',
        'rehype-stringify',
      ],
      matchPackagePatterns: ['^remark', '^rehype', '^@fec/remark'],
    },

    // Group remaining patch updates (excluding ecosystem packages)
    {
      groupName: 'Patch updates',
      matchUpdateTypes: ['patch'],
      excludePackageNames: [
        'hono',
        'honox',
        'tailwindcss',
        'vitest',
        'prettier',
        'remark',
        'remark-autolink-headings',
        'remark-emoji',
        'remark-extract-frontmatter',
        'remark-frontmatter',
        'remark-gfm',
        'remark-parse',
        'remark-rehype',
        'remark-slug',
        'rehype-stringify',
      ],
      excludePackagePatterns: [
        '^@hono/',
        '^@tailwindcss/',
        '^@vitest/',
        '^prettier-plugin-',
        '^remark',
        '^rehype',
        '^@fec/remark',
      ],
    },

    // Group remaining minor updates (excluding ecosystem packages)
    {
      groupName: 'Minor updates',
      matchUpdateTypes: ['minor'],
      excludePackageNames: [
        'hono',
        'honox',
        'tailwindcss',
        'vitest',
        'prettier',
        'remark',
        'remark-autolink-headings',
        'remark-emoji',
        'remark-extract-frontmatter',
        'remark-frontmatter',
        'remark-gfm',
        'remark-parse',
        'remark-rehype',
        'remark-slug',
        'rehype-stringify',
      ],
      excludePackagePatterns: [
        '^@hono/',
        '^@tailwindcss/',
        '^@vitest/',
        '^prettier-plugin-',
        '^remark',
        '^rehype',
        '^@fec/remark',
      ],
      stabilityDays: 7,
    },

    // Stability days configuration for update types
    {
      // Major updates wait 14 days for stability
      matchUpdateTypes: ['major'],
      stabilityDays: 14,
    },
    {
      // Minor and patch updates wait 7 days for stability
      matchUpdateTypes: ['minor', 'patch'],
      stabilityDays: 7,
    },
  ],
}
